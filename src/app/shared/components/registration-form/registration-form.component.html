<h2 class="text-align-center">Registration</h2>
<div class="app-plate">
  <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
    <div class="registration-form">
      <div>
        <div class="form__control">
          <label for="name">Name</label>
          <input id="name" formControlName="name" type="text" placeholder="Input text" />
          <span id="nameErrorMessage" class="text-danger"
                *ngIf="(submitted || nameControl.touched) && nameControl.errors?.['required']">
            Name is required.
          </span>
          <span class="text-danger"
                *ngIf="(submitted || nameControl.touched) && nameControl.errors?.['minlength']">
            Name should be at least 6 characters.
          </span>
        </div>

        <div class="form__control">
          <label for="email">Email</label>
          <input id="email"
                 formControlName="email"
                 type="text"
                 placeholder="Input text"
                 emailValidator />
          <span id="emailErrorMessage" class="text-danger"
                *ngIf="(submitted || emailControl.touched) && emailControl.errors?.['required']">
            Email is required.
          </span>
          <span class="text-danger"
                *ngIf="(submitted || emailControl.touched) && emailControl.errors?.['emailInvalid']">
            Email is invalid.
          </span>
        </div>

        <div class="form__control">
          <label for="password">Password</label>

          <div class="input-with-icon">
            <input
              #passwordInput
              id="password"
              type="password"
              formControlName="password"
              placeholder="Input text"
              aria-label="Password"
            />
            <button
              type="button"
              class="password-toggle"
              (click)="togglePassword()"
              [attr.aria-pressed]="passwordVisible"
              aria-label="Toggle password visibility"
              tabindex="0"
            >
              <fa-icon [icon]="passwordVisible ? ['fas','eye-slash'] : ['fas','eye']"></fa-icon>
            </button>
          </div>

          <span id="passwordErrorMessage" class="text-danger"
                *ngIf="(submitted || passwordControl.touched) && passwordControl.errors?.['required']">
            Password is required.
          </span>
        </div>
      </div>

      <div class="form__action">
        <app-button (clicked)="onSubmit()" [buttonText]="'Register'"></app-button>
        <button type="submit" style="display:none"></button>
      </div>

      <div class="form__text">
        Already have an account? <a routerLink="/login">Login</a>
      </div>
    </div>
  </form>
</div>
